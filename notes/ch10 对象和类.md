## 第十章 对象和类

* 面向对象编程（oop）是一种特殊的、设计程序的概念性方法，特性如下：
  * 抽象；
  * 封装和数据隐藏；
  * 多态；
  * 继承；
  * 代码的可重用性。



### 10.1 过程性编程和面向对象编程

* 采用过程性编程方法时，首先考虑要遵循的步骤，然后考虑如何表示这些数据(并不需要程序直运行，用户可能希望能够将数据存储在一个文件中，然后从这个文件中读取数据)。
  * **在面向过程**：①打开冰箱→②把大象塞进去→③关上冰箱
  * ![img](https://img-blog.csdnimg.cn/e75c0fe687a149a8820ab29497fcc7ac.png)
  * C语言是面向过程的，关注的是过程，分析出求解问题的步骤，通过函数调用逐步解决问题。
* 采用 OOP 方法时，首先从用户的角度考虑对象——描述对象所需的数据以及描述用户与数据交瓦所需的操作。完成对接口的描述后，需要确定如何实现接口和数据存储。最后，使用新的设计方案创建出程序。
  * **面向对象**：把冰箱看成是一个对象，把大象也看成是一个对象，通过操作大象和冰箱这两个对象，完成将大象放入冰箱的过程。
  * ![img](https://img-blog.csdnimg.cn/fe7282164d02432fa84f7f5fa71a6359.png)
  * C++是面向对象的，关注的是对象，将一件事情拆分成不同的对象，靠对象之间的交互完成。
  * ————————————————
    版权声明：本文为CSDN博主「includeevey」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。
    原文链接：https://blog.csdn.net/includeevey/article/details/127151939

### 10.2 抽象和类

* 📌生活中充满复杂性，处理复杂性的方法之一是简化和抽象！

#### 10.2.1 类型是什么

* 指定基本类型完成了三项工作：
  * 决定数据对象需要的内存数量；
  * 决定如何解释内存中的位(long 和 flat 在内存中占用的位数相同，但将它们转换为数值的方法不同)；
  * 决定可使用数据对象执行的操作或方法。

#### 10.2.2 C++中的类

* 类是一种将抽象转换为用户定义类型的C++工具，它将数据表示和操纵数据的方法组合成一个整洁的包。

* 如何表示类：

  * 首先，考虑如何使用数据表示对象，应将可执行的操作进行限制；（成员函数，即操纵数据的方法）
  * 其次，根据上述清单定义类的公有接口，为支持该接口， 需要存储一些信息；（数据成员，即描述数据的部分）
  * 最后，定义类。类规范由两个部分组成：
    * 类声明：以数据成员的方式描述数据部分，以成员函数的方式描述公有接口；
    * 类方法定义：描述如何实现类成员函数。
  * 简单地说，类声明提供了类的蓝图，而方法定义则提供了细节。

* 公共接口：

  * 公众（public）是使用类的程序，交互系统由类对象组成，而接口由编写类的人提供的方法组成。接口让程序员能够编写与类对象交互的代码，从而让程序能够使用类对象。

* 开发一个类并编写一个使用它的程序步骤：

  * 1、将接口（类定义）放在头文件中；

  * 2、将实现（类方法的代码）放在源代码文件中。

    * 示例（针对1、将接口（类定义）放在头文件中）：

      * ```c++
        #pragma once
        // ch10_01_stock00.h -- Stock class interface
        //version 00
        #ifndef CH10_O1_STOCK00_H_
        #define CH10_O1_STOCK00_H_
        
        #include <string>
        
        class Stock
        {
        private:
        	std::string company;
        	long shares;
        	double share_val;
        	double total_val;
        	void set_tot() { total_val = shares * shares_val; }
        public:
        	void acquire(const std::string& co, long n, double pr);
        	void buy(long num, double price);
        	void sell(long num, double price);
        	void update(double price);
        	void show();
        };
        
        #endif
        ```

      * class 指出这些代码定义了一个类设计（不同于在模板参数中，在这里，关键字 class 和 typename 不是同义词，不能使用 typename 代替 class）

      * Stock 是这个新类的类型名，该声明让我们能够声明 Stock 类型的变量——称为对象或实例。

      * 这么看类和对象的关系为一对多，一个类对应多个对象，每个对象都具有该类的所有特性。

    * 将数据和方法组合成一个单元是类最吸引人的特性。有了这种设计，创建 Stock 对象时，将自动指定使用对象的规则。

    * a. 访问控制

      * 关键字 private 和 public 也是新的，它们描述了对类成员的访问控制。
        * 使用类对象的程序都可以直接访问公有部分，但只能通过公有成员函数来访问对象的私有成员。
        * 因此，公有成员函数时程序和对象的私有成员之间的桥梁，提供了对象和程序之间的接口。防止程序直接访问数据被称为数据隐藏。
        * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/c215c866-0d5a-4255-a82f-d20b7bc7a8cd)
        * 类设计尽可能将公有接口与实现细节分开。
          * 公有接口表示设计的抽象组件。
          * 将实现细节放在一起并将它们与抽象分开被称为封装。
          * 数据隐藏(将数据放在类的私有部分中)是一种封装，将实现的细节隐藏在私有部分中，就像 Stock 类对 set_tot( )所做的那样，也是一种封装。封装的另一个例子是，将类函数定义和类声明放在不同的文件中。
            * 数据隐藏不仅可以防止直接访问数据，还让开发者(类的用户)无需了解数据是如何被表示的。
            * 所需要知道的只是各种成员函数的功能;也就是说，需要知道成员函数接受什么样的参数以及返回什么类型的值。
            * 原则是将实现细节从接口设计中分离出来。如果以后找到了更好的、实现数据表示或成员函数细节的方法，可以对这些细节进行修改，而无需修改程序接口，这使程序维护起来更容易。

    * b. 控制对成员的访问：公有还是私有

      * 无论类成员是数据成员还是成员函数，都可以在类的公有部分或私有部分中声明它。
      * 但由于隐藏数据是OOP主要目标之一，因此**数据项通常放在私有部分，组成类接口的成员函数放在公有部分**
      * 也可以把成员函数放在私有部分中，通常使用私有成员函数来处理不属于公有接口的实现细节。
      * 不必使用 private 因为默认，但是显式可以更好强调数据隐藏概念。

    * c. 类和结构

      * 唯一区别：
        * 结构的默认访问类型是 public；
        * 而类的默认访问类型是 private。

#### 10.2.3 实现类成员函数
