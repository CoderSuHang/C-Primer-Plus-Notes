## 第三章 数据处理

### 3.1 简单变量

##### 3.1.1 变量名

* 命名规则：

  * 在名称中只能使用字母字符、数字和下划线(_)；

  * 名称的第一个字符不能是数字；

  * 区分大写字符与小写字符；

  * 不能将C++关键字用作名称；

  * 以两个下划线或下划线和大写字母打头的名称被保留给实现（编译器及其使用的资源）使用。以一个下划线开头的名称被保留给实现，用作全局标识符；

  * C++对于名称的长度没有限制，名称中所有的字符都有意义，但有些平台有长度限制。

##### 3.1.2 整型

* 没有小数部分的数字；

* C++的基本整型（按宽度递增的顺序排列）：

  * char、short、int、long、long long。

  

##### 3.1.3 整型short、int、long、long long

* short是short int的简称，而long是long int的简称。

  * sizeof运算符能够知道整数的最大长度，INT_MAX为int的最大取值，CHAR_BIT为字节的位数：

    * ``` c++
      // limits.cpp -- some integer limits
      #include <iostream>
      #include <climits>
      
      int main()
      {
      	using namespace std;
      
      	int n_int = INT_MAX;
      	short n_short = SHRT_MAX;
      	long n_long = LONG_MAX;
      	long long n_llong = LLONG_MAX;
      
      	// sizeof operator yields size of type or of variable
      	cout << "int is " << sizeof(int) << " bytes." << endl;
      	cout << "short is " << sizeof n_short << " bytes." << endl;
      	cout << "long is " << sizeof n_long << " bytes." << endl;
      	cout << "long long is " << sizeof n_llong << " bytes." << endl;
      	cout << endl;
      
      	cout << "Maximum values:" << endl;
      	cout << "int: " << n_int << endl;
      	cout << "short: " << n_short << endl;
      	cout << "long: " << n_long << endl;
      	cout << "long long: " << n_llong << endl << endl;
      
      	cout << "Minimum int values = " << INT_MIN << endl;
      	cout << "Bits per byte = " << CHAR_BIT << endl;//字节的位数
      	return 0;
      }
      ```

    * 结果：

    * ``` c++
      int is 4 bytes.
      short is 2 bytes.
      long is 4 bytes.
      long long is 8 bytes.
      
      Maximum values:
      int: 2147483647
      short: 32767
      long: 2147483647
      long long: 9223372036854775807
      
      Minimum int values = -2147483648
      Bits per byte = 8			
      ```

  * sizeof运算符指出，在使用8位字节的系统中，int的长度为4个字节。

  * 可对类型名或变量名使用sizeof运算符。

* 1.运算符sizeof和头文件limits
  * **对类型名(如int)使用sizeof运算符时，应将名称放在括号中;**

  * **但对变量名(如n_short)使用该运算符，括号是可选的:**
  * 头文件climits定义了符号常量来表示类型的限制。
  * 符号常量——预处理器方式：
    * #define INT_MAX 32767
    * 预处理器编译指令：在程序中查找INT_MAX，并将所有的INT_MAX都替换为32767。
* 2.初始化
  * 初始化将赋值与声明合并在一起：
    * int n_int = INT_MAX;

##### 3.1.4 无符号类型

* 例程：

  * ``` c++
    // exceed.cpp -- exceeding some integer limits
    #include <iostream>
    #define ZERO 0			// makes ZERO symbol for 0 value
    #include <climits>		// defines INT_MAX as largest int value
    
    int main()
    {
    	using namespace std;
    	
    	short sam = SHRT_MAX;
    	unsigned short sue = sam;
    
    	cout << "Sam has " << sam << " dollars and Sue has " << sue;
    	cout << " dollars deposited." << endl
    		<< "Add $1 to each account." << endl << "Now ";
    	sam = sam + 1;
    	sue = sue + 1;
    	cout << "Sam has " << sam << " dollars and Sue has " << sue;
    	cout << " dollars deposited.\nPoor Sam!" << endl;
    
    	sam = ZERO;
    	sue = ZERO;
    	cout << "Sam has " << sam << " dollars and Sue has " << sue;
    	cout << " dollars deposited." << endl;
    	cout << "Take $1 from each account." << endl << "Now ";
    	sam = sam - 1;
    	sue = sue - 1;
    	cout << "Sam has " << sam << " dollars and Sue has " << sue;
    	cout << " dollars deposited." << endl << "Lucky Sue!" << endl;
    	return 0;
    }
    ```

* 输出结果：

  * ``` c++
    Sam has 32767 dollars and Sue has 32767 dollars deposited.
    Add $1 to each account.
    Now Sam has -32768 dollars and Sue has 32768 dollars deposited.
    Poor Sam!
    Sam has 0 dollars and Sue has 0 dollars deposited.
    Take $1 from each account.
    Now Sam has -1 dollars and Sue has 65535 dollars deposited.
    Lucky Sue!
    ```

* ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/bfdf43e2-ed1e-4ade-a39a-8a61cb233b5d)

* 整型变量的行为就像里程表，如果超越了限制，其值将为范围另一端的取值。



##### 3.1.5 选择整型类型

* int：计算机处理起来效率最高的长度！
* long：如果变量可能表示的值大于16位整数的最大可能值，则使用long；
* short：仅当有大型整数型数组时，才有必要使用short。如果节省内存很重要，则应使用short而不是使用int。



##### 3.1.6 整型字面值

* 整型字面值（常量）是显式地书写的常量，如212或1234。

* C++的三种不同的计数方式来书写整数（C++使用前一(两）位来标识数字常量的基数）：

  * 如果第一位为1~9，则基数为10(十进制);因此93是以10为基数的。
  * 如果第一位是0，第二位为1~7，则基数为8(八进制);因此042的基数是8，它相当于十进制数34。
  * 如果前两位为Ox或0X，则基数为16(十六进制);因此0x42为十六进制数，相当于十进制数66。

* `注意`：不管把值书写为哪种进制，在计算机中都以二进制的形式储存。

* 例程：

  * ``` c++
    // hexoct1.cpp -- shows hex and octal literals
    #include <iostream>
    
    int main()
    {
    	using namespace std;
    
    	int chest = 42;
    	int waist = 0x42;
    	int inseam = 042;
    
    	cout << "Monsieur cuts a striking figure!\n";
    	cout << "chest = " << chest << " (42 in decimal)\n";
    	cout << "waist = " << waist << " (0x42 in hex)\n";
    	cout << "inseam = " << inseam << " (042 in octal)\n";
    	return 0;
    }
    ```

* 结果：

  * ``` c++
    Monsieur cuts a striking figure!
    chest = 42 (42 in decimal)
    waist = 66 (0x42 in hex)
    inseam = 34 (042 in octal)
    ```

* 如果要指定进制显示，需要使用cout的控制符：

  * 例程：

    * ``` c++
      // hexoct2.cpp -- shows hex and octal literals
      #include <iostream>
      
      int main()
      {
      	using namespace std;
      
      	int chest = 42;
      	int waist = 42;
      	int inseam = 42;
      
      	cout << "Monsieur cuts a striking figure!\n";
      	cout << "chest = " << chest << " (decimal for 42)" << endl;
      
      	cout << hex;
      	cout << "waist = " << waist << " (hexadecimal for 42)" << endl;
      
      	cout << oct;
      	cout << "inseam = " << inseam << " (octal for 42)" << endl;
      	return 0;
      }
      ```

 * * 结果：

    * ``` c++
      Monsieur cuts a striking figure!
      chest = 42 (decimal for 42)
      waist = 2a (hexadecimal for 42)
      inseam = 52 (octal for 42)
      ```



##### 3.1.7 C++如何确定常量的类型

* 除非有理由储存为其他类型，否则C++将整型常量储存为int类型；
* 后缀（放在数字常量后面的字母，用于表示类型）：
  * 整数后面的l或L：表示该整数为long常量；
  * 整数后面的u或U：表示该整数为unsigned int常量；
  * 整数后面的ul或UL：表示该整数为unsigned long常量；
* 长度：
  * 不带后缀的十进制整数，将使用下面几种类型中能够存储该数的最小类型来表示:
    * int、long 或long long。
  * 不带后缀的十六进制或者八进制整数，将使用下面几种类型中能够存储该数的最小类型来表示:
    * int、unsigned int long、unsigned long、long long或unsigned long long。



##### 3.1.8 char类型：字符和小整数

* char类型：专门为储存字符（如字母和数字）而涉及的；

* char类型是`另一种整型`，`它足够长`，能够表示目标计算机系统中的所有符号。

* 符号集：ASCII字符集，学过了就不深究了

* 1、例程：输入时cin将键盘输入的M转换为77，输出时cout将77转换为所显示的字符M。

  * ``` c++
    // chartype.cpp -- the char type
    #include <iostream>
    
    int main()
    {
    	using namespace std;
    	char ch;
    
    	cout << "Enter a character: \n";
    	cin >> ch;
    	cout << "Hola! ";
    	cout << "Thak you for the " << ch << " character.\n";
    	return 0;
    }
    ```

* 结果：

  * ``` c++
    Enter a character:
    M
    Hola! Thak you for the M character.
    ```

* 2、在C++中书写字符字面值，和cout.put()的用法：

  * 例程：

    * ``` c++
      // morchar.cpp -- the char type and int type contrasted
      #include <iostream>
      
      int main()
      {
      	using namespace std;
      
      	char ch = 'M';
      	int i = ch;
      	cout << "The ASCII code for " << ch << " is " << i << endl;
      
      	cout << "Add one to the character code:" << endl;
      	ch = ch + 1;
      	i = ch;
      	cout << "The ASCII code for " << ch << " is " << i << endl;
      
      	// using the cout.put() member function to display a char
      	cout << "Displaying char ch using cout.put(ch): ";
      	cout.put(ch);
      	cout.put('!');
      	cout << endl << "Done" << endl;
      	return 0;
      }
      ```

  * 结果：

    * ``` c++
      The ASCII code for M is 77
      Add one to the character code:
      The ASCII code for N is 78
      Displaying char ch using cout.put(ch): N!
      Done
      ```

  * cout.put()

    * 类ostream有一个put()成员函数来输出字符，只能通过类的特定对象（cout）来使用成员函数。
    * 要通过对象（cout）使用成员函数，必须用句点将对象名和函数名称连接在一起；
    * 即：cout.put()的意思是：通过类对象cout来使用函数put()。

  * char字面值：

    * 书写字符常量：将字符用单引号扩起；

    * 转义字符：

      * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/dd46a796-9f1b-4886-aaa9-749e878ff94b)


    * 例程：

      * ``` c++
        // bondini.cpp -- using escape sequences
        #include <iostream>
        
        int main()
        {
        	using namespace std;
        	cout << "\aOperation \"HyperHype\" is now activated!\n";
        	cout << "Enter your agent code:_______\b\b\b\b\b\b\b";
        	long code;
        	cin >> code;
        	cout << "\aYou entered " << code << "...\n";
        	cout << "\aCode verified! Proceed with Plan Z3!\n";
        	return 0;
        }
        ```

    * 结果：

      * ``` c++
        Operation "HyperHype" is now activated!
        Enter your agent code:1311993
        You entered 1311993...
        Code verified! Proceed with Plan Z3!
        ```

* 3、通用字符名





















