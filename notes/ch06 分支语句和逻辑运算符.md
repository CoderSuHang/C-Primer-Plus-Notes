## 第六章 分支语句和逻辑运算符

### 6.1 if 语句

* if 的两种格式：if 和 if else

  * 1、if 语句通用格式：

    * ```c++
      if (test-condition)
          statement;
      ```

    * 例程：（识别句点来确定句子的结尾）

      * ```c++
        // ch06_01_if.cpp -- using the if statement
        #include <iostream>
        int main() {
        	using std::cin;
        	using std::cout;
        
        	char ch;
        	int spaces = 0;
        	int total = 0;
        	cin.get(ch);
        	while (ch != '.') {
        		if (ch == ' ')
        			++spaces;
        		++total;
        		cin.get(ch);
        	}
        
        	cout << spaces << "spaces, " << total;
        	cout << " characters total in senternce\n";
        
        	return 0;
        }
        ```

    * 结果：

      * ```c++
        The balloonist was an airhead
        with lofty goals.
        6spaces, 46 characters total in senternce
        ```



#### 6.1.1 if else 语句

* if else 语句通用格式：

  * ```c++
    if (test-condition)
        statement1;
    else
        statement2;
    ```

  * 例程：

    * ```c++
      // ch06_02_ifelse.cpp -- using the if else statement
      #include <iostream>
      int main() {
      	char ch;
      
      	std::cout << "Type, and I shall repeat.\n";
      	std::cin.get(ch);
      	
      	while (ch != '.') {
      		if (ch == '\n')
      			std::cout << ch;
      		else
      			std::cout << ++ch;
      		std::cin.get(ch);
      	}
      
      	std::cout << "\nPlease excuse the slight confusion.\n";
      
      	return 0;
      }
      ```

  * 结果：

    * ```c++
      Type, and I shall repeat.
      An ineffable joy suffused me as I beheld
      Bo!jofggbcmf!kpz!tvggvtfe!nf!bt!J!cfifme
      the wonders of modern computing.
      uif!xpoefst!pg!npefso!dpnqvujoh
      Please excuse the slight confusion.
      ```



#### 6.1.2 格式化 if else 语句

* 如果需要多条语句，需要用大括号将它们括起来，组成一个块语句。



#### 6.1.3 if else if else 结构

* 1、if else 语句本身就是一条语句，所以可以放在else的后面：

  * ```c++
    if (test-condition1)
        statement1;
    else
        if(test-condition2)
            statement2;
    	else
            statement3;
    ```

* 2、if else 被包含在另一个 if else 中：

  * ```c++
    if (test-condition1)
        statement1;
    else if (test-condition2)
        statement2;
    else
        statement3;
    ```

* 示例：

  * ```c++
    // ch06_03_ifelseif.cpp -- using the if else if else
    #include <iostream>
    const int Fave = 27;
    int main() {
    	using namespace std;
    	int n;
    
    	cout << "Enter a number in the range 1-100 to find ";
    	cout << "my favorite number: ";
    	do {
    		cin >> n;
    		if (n < Fave)
    			cout << "Too low -- guess again: ";
    		else if (n > Fave)
    			cout << "Too high -- guess again: ";
    		else
    			cout << Fave << " is right!\n";
    	} while (n != Fave);
    
    	return 0;
    }
    ```

* 结果：

  * ```c++
    Enter a number in the range 1-100 to find my favorite number: 50
    Too high -- guess again: 25
    Too low -- guess again: 37
    Too high -- guess again: 31
    Too high -- guess again: 28
    Too high -- guess again: 27
    27 is right!
    ```

* 条件运算符和错误防范：

  * 许多程序员将更直观的表达式 variable = =value 反转为 value ==variable，以此来捕获将相等运算符误写为赋值运算符的错误。

    * 例如，下述条件有效，可以正常工作:

    * ```c++
      if (3==myNumber)
      ```

    * 这也是老嵌的建议：

      * 条件判断语句“==”号左边放常量，右边放变量，在《C陷阱与缺陷》里面有可以去查

  * 📌但是不能是赋值运算符 "=" 号

    * ```c++
      if (3 = myNumber)
      ```



### 6.2 逻辑表达式

#### 6.2.1 逻辑 OR 运算符：||

* || 的优先级比关系运算符低；

* 只要一个表达式为true，则整个逻辑表达式为true。

* ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/d7f72b4d-3a25-4ad0-808c-b76699196196)


* 示例：

  * ```c++
    // ch06_04_or.cpp -- using the logical OR operator
    #include <iostream>
    const int Fave = 27;
    int main() {
    	using namespace std;
    	cout << "This program may reformat your hard disk\n"
    			"and destroy all your data.\n"
    			"Do you wish to continue? <y/n>";
    
    	char ch;
    	cin >> ch;
    	if (ch == 'y' || ch == 'Y')
    		cout << "You were warned!\n";
    	else if (ch == 'n' || ch == 'N')
    		cout << "A wise choice ... bye\n";
    	else
    	cout << "That wasn't a y or n! Apparently you "
    			"can't follow\ninstructions, so "
    			"I'll trash your disk anyway.\n";
    
    	return 0;
    }
    ```

* 结果：

  * ```c++
    This program may reformat your hard disk
    and destroy all your data.
    Do you wish to continue? <y/n>N
    A wise choice ... bye
    ```



#### 6.2.2 逻辑 AND 运算符：&&

* ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/0ff26a74-ccf5-4c56-867c-2148b5f5e8fd)

* 示例：

  * ```c++
    // ch06_05_and.cpp -- using the logical AND operator
    #include <iostream>
    const int ArSize = 6;
    int main() {
    	using namespace std;
    	float naaq[ArSize];
    	cout << "Enter the NAAQs (New Age Awareness Quotients) "
    		 << "of\nyour neighbors. Program terminates "
    		 << "when you make\n" << ArSize << " entries "
    		 << "or enter a negative value.\n";
    
    	int i = 0;
    	float temp;
    	cout << "First value: ";
    	cin >> temp;
    	while (i < ArSize && temp >= 0) {
    		naaq[i] = temp;
    		++i;
    		if (i < ArSize) {
    			cout << "Next value: ";
    			cin >> temp;
    		}
    	}
    
    	if (i == 0)
    		cout << "No data--bye\n";
    	else {
    		cout << "Enter your NAAQ: ";
    		float you;
    		cin >> you;
    		int count = 0;
    		for (int j = 0; j < i; j++)
    			if (naaq[j] > you)
    				++count;
    		cout << count;
    		cout << " of your neighbors have greater awareness of\n"
    			 << "the New Age than you do.\n";
    	}
    		
    	return 0;
    }
    ```

* 结果：

  * ```c++
    Enter the NAAQs (New Age Awareness Quotients) of
    your neighbors. Program terminates when you make
    6 entries or enter a negative value.
    First value: 28
    Next value: 72
    Next value: 15
    Next value: 6
    Next value: 130
    Next value: 145
    Enter your NAAQ: 50
    3 of your neighbors have greater awareness of
    the New Age than you do.
    ///////////////////////////////////
    Enter the NAAQs (New Age Awareness Quotients) of
    your neighbors. Program terminates when you make
    6 entries or enter a negative value.
    First value: 123
    Next value: 119
    Next value: 4
    Next value: 89
    Next value: -1
    Enter your NAAQ: 123.031
    0 of your neighbors have greater awareness of
    the New Age than you do.
    ```



#### 6.2.3 用 && 来设置取值

* && 运算符还允许建立一系列 if else if else 语句，其中每种选择都对应于一个特定的取值范围。

* 与char 指针变量可以通过指向一个字符串的开始位置来标识该字符串一样，char 指针数组也可以标识一系列字符串，只要将每一个字符串的地址赋给各个数组元素即可。

* 示例：

  * ```c++
    // ch06_06_more_and.cpp -- using the logical AND operator
    #include <iostream>
    
    const char* qualify[4] = {
    	"10,000-meter race.\n",
    	"mud tug-of-war.\n",
    	"masters canoe jousting.\n",
    	"pie-throwing festival.\n"
    };
    
    int main() {
    	using namespace std;
    	int age;
    	cout << "Enter your age in years: ";
    	cin >> age;
    	int index;
    
    	if (age > 17 && age < 35)
    		index = 0;
    	else if (age >= 35 && age < 50)
    		index = 1;
    	else if (age >= 50 && age < 60)
    		index = 2;
    	else
    		index = 3;
    
    	cout << "You qualify for the " << qualify[index];
    
    	return 0;
    }
    ```

* 结果：

  * ```c++
    Enter your age in years: 87
    You qualify for the pie-throwing festival.
    ```



#### 6.2.4 逻辑 NOT 运算符：！

* ！表示将它后面的表达式的真值取反。

* 示例：

  * ```c++
    // ch06_07_not -- using the not operator
    #include <iostream>
    #include <climits>
    
    bool is_int(double);
    
    int main() {
    	using namespace std;
    	double num;
    
    	cout << "Yo, dude! Enter an integer value: ";
    	cin >> num;
    	while (!is_int(num)) {
    		cout << "Out of range -- please try again: ";
    		cin >> num;
    	}
    	int val = int(num);
    	cout << "You've entered the integer " << val << "\nBye\n";
    
    	return 0;
    }
    
    bool is_int(double x) {
    	if (x <= INT_MAX && x >= INT_MIN)
    		return true;
    	else
    		return false;
    }
    ```

* 结果：

  * ```c++
    Yo, dude! Enter an integer value: 6234128679
    Out of range -- please try again: -8000222333
    Out of range -- please try again: 99999
    You've entered the integer 99999
    Bye
    ```



#### 6.2.5 逻辑运算符细节

* 逻辑`OR`和逻辑`AND`运算符的优先级都于关系运算符；
  * 逻辑`AND`运算符的优先级高于逻辑`OR`运算符
* `!`运算符的优先级高于所有的关系运算符和算术运算符。



#### 6.2.6 其他表示方式

* ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/3e2e4289-c7b3-4649-8af0-3ddc2f59c4d5)




### 6.3 自读函数库 cctype

* 头文件cctype：确定字符是否为大写字母、数字、标点符号等工作；

* isalpha()：检测字母，是字母返回一个非零值，否则返回0；

* ispunct()：检测标点符号，是返回true。

* isdigits()：来测试字符是否为数字字符，如3；

* isspace()：来测试字符是否为空白，如换行符、空格和制表符；

* ispunct()：来测试字符是否为标点符号。

* 示例：

  * ```c++
    // ch06_08_cctypes.cpp -- using the ctype.h library
    #include <iostream>
    #include <cctype>
    
    int main() {
    	using namespace std;
    	cout << "Enter text for analysis, and type @"
    			" to terminate input.\n";
    	char ch;
    	int whitespace = 0;
    	int digits = 0;
    	int chars = 0;
    	int punct = 0;
    	int others = 0;
    
    	cin.get(ch);
    	while (ch != '@') {
    		if (isalpha(ch))
    			chars++;
    		else if (isspace(ch))
    			whitespace++;
    		else if (isdigit(ch))
    			digits++;
    		else if (ispunct(ch))
    			punct++;
    		else
    			others++;
    		cin.get(ch);
    	}
    	
    	cout << chars << " letters, "
    		<< whitespace << " whitespace, "
    		<< digits << " digits, "
    		<< punct << " punctuations, "
    		<< others << " others.\n";
    
    	return 0;
    }
    ```

* 结果：

  * ```c++
    Enter text for analysis, and type @ to terminate input.
    AdrenalVision International producer Adrienne Vismonger
    announced production of their new 3-D film, a remake of
    "My Dinner with Andre," scheduled for 2013. "Wait until
    you see the the new scene with an enraged Collossipede!"@
    177 letters, 33 whitespace, 5 digits, 9 punctuations, 0 others.
    ```

  * ![image](https://github.com/CoderSuHang/Cpp-Primer-Plus-Notes/assets/104765251/ea380199-cf54-4978-a1c8-18f52a62cf30)


